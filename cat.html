<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gradient-to-br from-purple-50 to-blue-50 min-h-screen">
    <!-- Header -->
    <div class="text-center py-12">
        <h1 class="text-4xl font-bold text-gray-800 mb-4">üòΩCat Gallery</h1>
        <p class="text-gray-600 text-lg">crazy cats</p>
    </div>

    <!-- Loading indicator -->
    <div id="loading" class="text-center py-8">
        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"></div>
        <p class="mt-2 text-gray-600">Loading cute cats...</p>
    </div>

    <!-- Gallery container -->
    <div id="gallery" class="max-w-6xl mx-auto px-6 pb-12">
        <div id="imageGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <!-- Images will be loaded here -->
        </div>
    </div>

    <!-- Refresh button -->
    <div class="text-center pb-12">
        <button id="refreshBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-8 rounded-full shadow-lg transform hover:scale-105 transition-all duration-200">
            üîÑ Load More Cats
        </button>
    </div>

    <script>
        const imageGrid = document.getElementById("imageGrid");
        const loading = document.getElementById("loading");
        const refreshBtn = document.getElementById("refreshBtn");

        async function loadCatImages() {
            try {
                // Show loading indicator
                loading.classList.remove("hidden");
                refreshBtn.disabled = true;
                refreshBtn.textContent = "Loading...";

                const response = await axios.get('https://api.thecatapi.com/v1/images/search?limit=12');
                
                // Clear previous images
                imageGrid.innerHTML = '';
                
                response.data.forEach((cat, index) => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'group cursor-pointer transform hover:scale-105 transition-all duration-300';
                    imageCard.style.animationDelay = `${index * 100}ms`;
                    
                    imageCard.innerHTML = `
                        <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                            <div class="aspect-square overflow-hidden">
                                <img src="${cat.url}" 
                                     alt="Adorable cat" 
                                     class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                                     onerror="this.src=''; this.alt='Image failed to load'; this.parentElement.innerHTML='<div class=\\'flex items-center justify-center h-full bg-gray-100 text-gray-500\\'>üê± Image unavailable</div>';">
                            </div>
                            <div class="p-4">
                                <p class="text-sm text-gray-600 text-center">Cat #${index + 1}</p>
                            </div>
                        </div>
                    `;
                    
                    imageGrid.appendChild(imageCard);
                });

                // Add entrance animation
                imageGrid.classList.add('animate-fade-in');
                
            } catch (error) {
                console.error('Error loading cat images:', error);
                imageGrid.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <p class="text-gray-600 text-lg">üòø Oops! Couldn't load the cats.</p>
                        <p class="text-gray-500 mt-2">Please try again in a moment.</p>
                    </div>
                `;
            } finally {
                // Hide loading indicator
                loading.classList.add("hidden");
                refreshBtn.disabled = false;
                refreshBtn.textContent = "üîÑ Load More Cats";
            }
        }

        function showFullImage(imageUrl, catNumber) {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="relative max-w-4xl max-h-full">
                    <img src="${imageUrl}" 
                         alt="Cat #${catNumber}" 
                         class="max-w-full max-h-full object-contain rounded-lg shadow-2xl"
                         onerror="this.src=''; this.alt='Image failed to load';">
                    <button class="absolute top-4 right-4 bg-white bg-opacity-20 hover:bg-opacity-30 text-white rounded-full w-10 h-10 flex items-center justify-center text-xl font-bold transition-all duration-200">
                        √ó
                    </button>
                    <div class="absolute bottom-4 left-4 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg">
                        Cat #${catNumber}
                    </div>
                </div>
            `;

            // Close modal on click
            modal.addEventListener('click', (e) => {
                if (e.target === modal || e.target.textContent === '√ó') {
                    document.body.removeChild(modal);
                }
            });

            document.body.appendChild(modal);
        }

        // Event listeners
        refreshBtn.addEventListener('click', loadCatImages);

        // Load initial images
        loadCatImages();

        // Add custom CSS for animations
        const style = document.createElement('style');
        style.textContent = `
            .animate-fade-in {
                animation: fadeIn 0.6s ease-out;
            }
            
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'983b3fdb128a7637',t:'MTc1ODY0MzE2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>